version: "3.9"
services:
  jellyfin:
    image: linuxserver/jellyfin:10.8.13
    container_name: jellyfin
    environment:
      - PUID=${USER_ID:-1000}
      - PGID=${GROUP_ID:-1000}
      - TZ=${TZ:-Etc/UTC}
    volumes:
      - ${MEDIA_SERVER_PATH}/jellyfin:/config
      - ${MEDIA_PATH}/media:/data
    ports:
      - ${JELLYFIN_PORT_1:-8096}:8096
      - ${JELLYFIN_PORT_2:-8920}:8920
      - ${JELLYFIN_PORT_3:-7359}:7359/udp
      - ${JELLYFIN_PORT_4:-1900}:1900/udp
    restart: unless-stopped
  sonarr:
    image: linuxserver/sonarr:4.0.2
    container_name: sonarr
    environment:
      - PUID=${USER_ID:-1000}
      - PGID=${GROUP_ID:-1000}
      - TZ=${TZ:-Etc/UTC}
    volumes:
      - ${MEDIA_SERVER_PATH}/sonarr:/config
      - ${MEDIA_PATH}/media/tvseries:/tv
      - ${MEDIA_SERVER_PATH}/torrents:/downloads
    ports:
      - ${SONARR_PORT:-8989}:8989
    restart: unless-stopped
    depends_on:
        - jackett
        - transmission
  radarr:
    image: linuxserver/radarr:5.3.6
    container_name: radarr
    environment:
      - PUID=${USER_ID:-1000}
      - PGID=${GROUP_ID:-1000}
      - TZ=${TZ:-Etc/UTC}
    volumes:
      - ${MEDIA_SERVER_PATH}/radarr:/config
      - ${MEDIA_PATH}/media/movies:/movies
      - ${MEDIA_SERVER_PATH}/torrents:/downloads
    ports:
      - ${RADARR_PORT:-7878}:7878
    restart: unless-stopped
    depends_on:
        - jackett
        - transmission
  readarr:
    image: linuxserver/readarr:0.3.18-develop
    container_name: readarr
    environment:
      - PUID=${USER_ID:-1000}
      - PGID=${GROUP_ID:-1000}
      - TZ=${TZ:-Etc/UTC}
    volumes:
      - ${MEDIA_SERVER_PATH}/readarr:/config
      - ${MEDIA_PATH}/media/books:/books
      - ${MEDIA_SERVER_PATH}/torrents:/downloads
    ports:
      - ${LIDARR_PORT:-8787}:8787
    restart: unless-stopped
    depends_on:
        - jackett
        - transmission
  jackett:
    image: linuxserver/jackett:0.21.1932
    container_name: jackett
    environment:
      - PUID=${USER_ID:-1000}
      - PGID=${GROUP_ID:-1000}
      - TZ=${TZ:-Etc/UTC}
      - AUTO_UPDATE=true #optional
    volumes:
      - ${MEDIA_SERVER_PATH}/jackett:/config
      - ${MEDIA_SERVER_PATH}/torrents:/downloads
    ports:
      - ${JACKETT_PORT:-9117}:9117
    restart: unless-stopped
    depends_on:
        - flaresolverr
  flaresolverr:
    image: ghcr.io/flaresolverr/flaresolverr:latest
    container_name: flaresolverr
    environment:
      - CAPTCHA_SOLVER=none
      - GPG_KEY=A035C8C19219BA821ECEA86B64E628F8D684696D
      - LANG=C.UTF-8
      - LOG_HTML=false
      - LOG_LEVEL=info
      - PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
      - PYTHON_GET_PIP_SHA256=dfe9fd5c28dc98b5ac17979a953ea550cec37ae1b47a5116007395bfacff2ab9
      - PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/dbf0c85f76fb6e1ab42aa672ffca6f0a675d9ee4/public/get-pip.py
      - PYTHON_PIP_VERSION=24.0
      - PYTHON_SETUPTOOLS_VERSION=65.5.1
      - PYTHON_VERSION=3.11.8
      - TZ=${TZ:-Etc/UTC}
    command:
      - /usr/local/bin/python
      - -u
      - /app/flaresolverr.py
    restart: unless-stopped
  transmission:
    image: linuxserver/transmission:4.0.5
    container_name: transmission
    environment:
      - PUID=${USER_ID:-1000}
      - PGID=${GROUP_ID:-1000}
      - TZ=${TZ:-Etc/UTC}
      - USER=admin
      - PASS=admin
    volumes:
      - ${MEDIA_SERVER_PATH}/transmission:/config
      - ${MEDIA_SERVER_PATH}/torrents:/downloads
    ports:
      - ${TR_UI_PORT:-9091}:9091
    restart: unless-stopped